<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="generator" content="CoffeeCup HTML Editor (www.coffeecup.com)">
    <meta name="dcterms.created" content="Sat, 08 Oct 2016 15:33:13 GMT">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <title>n00ne</title>
	<style> 
 	  body {background-color: white;}
 	  h1 {color: white;font-family:rockwell;}
	  h3 {color: white;font-family:rockwell;}
	  a {color: white; text-decoration: none;font-family:rockwell;}

.dropbtn:hover, .dropbtn:focus {
    background-color: #3498db;
}

.dropdown {
    float: center;
    position: relative;
    display: inline-block;
    
}

.dropdown-content {
    display: none;
    position: absolute; top:110px; left:375px; width:150px; height:100px;
    background-color: #f9f9f9;
    min-width: 160px;
    overflow: none;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    right: 0;
}

.dropdown-content a {
    color: black;
    padding: 15px 16px;
    text-decoration: none;
    display: block;
}

.dropdown a:hover {background-color: #f1f1f1}

.show {display:block;}
</style>

<div class="dropdown">
  <div id="chatDropdown" class="dropdown-content">
    <a href="#">Login</a>
    <a href="#">Anonymous</a>
  </div>
  
</div>

		<div style="width:$(window).width();height:100px;border:1px solid #3498db; background: linear-gradient(90deg, #3498db , lightgray, white);"></div>
		<div style="position: absolute; top:0px; left:10px; width:200px; height:25px; font-size:35px;"><h1><a href="MentorBot.html">n00ne</a></h1></div>
		<div onmouseover="myFunction()"; style="position: absolute; top:35px; left:450px; width:125px; height:25px; font-size:35px"><h3>Chat</h3></div>
		<div style="position: absolute; top:35px; left:700px; width:200px; height:25px; font-size:35px"><h3><a href="About.html">About</a></h3></div>
		<div style="position: absolute; top:35px; left:950px; width:200px; height:25px; font-size:35px"><h3><a href="Contact.html">Contact</a></h3></div>
    <!--[if IE]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <script>
/* When the user clicks on the button,
toggle between hiding and showing the dropdown content */
function myFunction() {
    document.getElementById("chatDropdown").classList.toggle("show");
}

// Close the dropdown if the user clicks outside of it
window.onhover = function(event) {
  if (!event.target.matches('.dropbtn')) {

    var dropdowns = document.getElementsByClassName("dropdown-content");
    var i;
    for (i = 0; i < dropdowns.length; i++) {
      var openDropdown = dropdowns[i];
      if (openDropdown.classList.contains('show')) {
        openDropdown.classList.remove('show');
      }
    }
  }
}
</script>
  
<body>

 
<script>
var twoDCounter=0; 
var resetSadNumber=0;
var chatLog="";
var counter=-1;
var sentence="";
var name="";
var diagnose = [0,0,0,0,0,0,0,0,0,0,0];
var sadQuestions = [0,0,0,0,0,0,0,0,0,0];
var catagories=[ ["overwhelmed","stress"],["death","died"],["breakup","break up","left me"],["grade","test","not doing well in classes"],["job","school"],["weather","storm","rain","cloud"],["sleep", "tired", "exhausted"],["no friends", "lonely", "unwanted"],["stolen","robbed","thief"],["left behind","out of place"]];
</script>
<textarea readonly id="chatLogger" style="width: 397px; height: 300px" rows="10" cols="80">Introduce yourself to start a conversation!
</textarea>
<div class='chatMessages'>
</div>
  <div class='chatBottom'>
<input type='hidden' id='name' value='<?php echo $user; ?>' />

<textarea id="data" style="width: 397px; height: 75px" rows="10" cols="80" placeholder='What would you like to say?...' onkeydown="if (event.keyCode == 13) { mainFunction(); return false; }">
</textarea>
<button id="send" type="button" onclick="mainFunction();">Send</button>

<script>
function mainFunction(){
sentence = document.getElementById("data").value;
document.getElementById("data").value ='';
var sendToBot= "";
var botResponse="";
var addCounter=0;
chatLog+="User: "+sentence+"\n";

if (counter==-1){
try{
var nameStart=sentence.toLowerCase().split("name is ");
var nameSplit=nameStart[1];
var nameSplitTwo=nameSplit.split(" ");
name=" "+nameSplitTwo[0];
}
catch(err){}
finally{
botResponse="Hello"+name+". How are you feeling today?";
counter++;
chatLog+="n00ne: "+botResponse+"\n";
}
}
else if (counter==0){
if (sentence.toLowerCase().indexOf('sad') >=0){
	sendToBot="sad ";
	addCounter++;
	diagnose[0]=1;
}
else if (sentence.toLowerCase().indexOf('scared')>=0&&addCounter==0){
	sendToBot='scared ';
	addCounter++;
	diagnose[1]=1;
}
else if (sentence.toLowerCase().indexOf('tired')>=0&&addCounter==0){
	sendToBot='tired ';
	addCounter++;
	diagnose[2]=1;
}	
else if (sentence.toLowerCase().indexOf('upset')>=0&&addCounter==0){
	sendToBot='upset ';
	addCounter++;
	diagnose[3]=1;
}
else if (sentence.toLowerCase().indexOf('anxious')>=0&&addCounter==0){
	sendToBot='anxious ';
	addCounter++;
	diagnose[4]=1;
}
else if (sentence.toLowerCase().indexOf('terrible')>=0&&addCounter==0){
	sendToBot='terrible ';
	addCounter++;
	diagnose[5]=1;
}
else if (sentence.toLowerCase().indexOf('excited')>=0&&addCounter==0){
	sendToBot='excited ';
	addCounter++;
	diagnose[6]=1;
}
else if (sentence.toLowerCase().indexOf('confused')>=0&&addCounter==0){
	sendToBot='confused ';
	addCounter++;
	diagnose[7]=1;
}
else if (sentence.toLowerCase().indexOf('lonely')>=0&&addCounter==0){
	sendToBot='lonely ';
	addCounter++;
	diagnose[8]=1;
}
else if (sentence.toLowerCase().indexOf('angry')>=0&&addCounter==0){
	sendToBot='angry ';
	addCounter++;
	diagnose[9]=1;
}
else if (sentence.toLowerCase().indexOf('happy')>=0&&addCounter==0){
	sendToBot='happy ';
	addCounter++;
	diagnose[10]=1;
}
else{
	sendToBot='that way';
}
botResponse="What is causing you to feel ";
botResponse+=sendToBot+"?";
counter=counter+1;
chatLog+="n00ne: "+botResponse+"\n";
}
else if(counter==1){
	var tempNum=0;
	var tempValue=diagnose[0];
	for(var i=0; i<=diagnose.length; i++){
		if(diagnose[i]>tempValue){
			tempValue=diagnose[i];
			tempNum=i;
}
}
	if (tempNum==0){
		sadFunction();
}		
	else{sadFunction();}
}
document.getElementById('chatLogger').innerHTML =chatLog;
}

function sadFunction(){
	if(resetSadNumber==0){
	twoDCounter=catagories.length;
	for (var i=0; i<=catagories.length-1; i++){
		for (var j=0; j<=catagories[i].length-1; j++){
			if (sentence.toLowerCase().indexOf(catagories[i][j])>=0){
			twoDCounter=i;
			}
		}
	}}
	if (twoDCounter==0&&sadQuestions[0]<=2){
		if(sadQuestions[0]==0){
	botResponse="Is there something you can remove from the equation to make you feel more comfortable?";
	resetSadNumber=1;
	}
		if(sadQuestions[0]==1){
	botResponse="Is that a viable thing to remove from your life at this time?";
	}
		if(sadQuestions[0]==2){
			if(sentence.toLowerCase().indexOf('no')>=0){
				botResponse="Well then we will need to think of  something else. Has anything else happened resently that may be causing this stress?"
			}
			else{
				botResponse="Then why not try it? You could alleviate some stress and have more time to enjoy more positive aspects of your life. Is there anything else bothering you?"
			}
		resetSadNumber=0;
	}
	chatLog+="n00ne: "+botResponse+"\n";
	sadQuestions[0]++;
	}

	else if (twoDCounter==1&&sadQuestions[1]<=2){
	if(sadQuestions[1]==0){
	try{var nameStart=sentence.toLowerCase().split(" died");
	var nameSplit=nameStart[0];
	var nameSplitTwo=nameSplit.split(" ");
	var tempName="your "+nameSplitTwo[(nameSplitTwo.length-1)];
	if(sentence.toLowerCase().indexOf('death') >=0){
		tempName="them";
	}
	}
	catch(err){var tempName="them"}
	finally{
	botResponse="Were you close with "+tempName+"?";
	resetSadNumber=1;
	}
	}
	if(sadQuestions[1]==1){
		if(sentence.toLowerCase().indexOf('no')>=0){
				botResponse="Does that upset you that you were not close with them?";
			}
			else{
				botResponse="That is good, deep connections are important for a healthy life. Try talking to other people who are close in your life, they will be able to support you and you can help them as well. Anything else I can assist you with?";
				resetSadNumber=0;
				sadQuestions[1]++;
		}
		
	}
	if(sadQuestions[1]==2){
		resetSadNumber=0;
		botResponse="Well I do hope it gets better for you. Sometimes you need closure with someone even if they were not close to you and death can make that difficult. Anything else I can assist you with?";
	}
	chatLog+="n00ne: "+botResponse+"\n";
	sadQuestions[1]++;
	}
	else if (twoDCounter==2&&sadQuestions[2]<=2){
	if(sadQuestions[2]==0){
	resetSadNumber=1;
	botResponse="What led to the breakup?";
	}
	if(sadQuestions[2]==1){
	botResponse="And do you think this is permanant or a temporary speed bump?";
	}
	if(sadQuestions[2]==2){
		if(sentence.toLowerCase().indexOf('know')>=0){
			botResponse="Well think about it. In the meantime is there anything else bothering you?";
		}
		else if (sentence.toLowerCase().indexOf('perm')>=0){
			botResponse="Well there is no point worrying about something you have no control over than. Take some time. Shake it off. And move forward. Is there anything else I can help with?";
		}
		else if (sentence.toLowerCase().indexOf('temp')>=0){
			botResponse="Then you have to decide if you want to fix it. If you do, look at it from every angle and figure out what is best for both of you. If not, just let it go. Is there anything else I can help with?";
		}
		else{ 
		botResponse="I was not able to decifer a conclussion from your comment. Figure our what you want to happen in the relationship and how best to go about it. If they caused you so much emotional stress you may just want to avoid them for a while and cool off. Is there anything else I can help with?";
		}
		resetSadNumber=0;
	}
	chatLog+="n00ne: "+botResponse+"\n";
	sadQuestions[2]++;
	}
	else if (twoDCounter==3&&sadQuestions[3]<=0){
	botResponse="Did you study enough?";
	chatLog+="n00ne: "+botResponse+"\n";
	sadQuestions[3]++;
	}
	else if (twoDCounter==4&&sadQuestions[4]<=0){
	botResponse="Do you enjoy it there?";
	chatLog+="n00ne: "+botResponse+"\n";
	sadQuestions[4]++;
	}
	else if (twoDCounter==5&&sadQuestions[5]<=0){
	botResponse="Well it may change soon. You can look at the forecast at weather.com if you wish.";
	chatLog+="n00ne: "+botResponse+"\n";
	sadQuestions[5]++;
	}
	else if (twoDCounter==6&&sadQuestions[6]<=0){
	botResponse="What time did you go to bed last night?";
	chatLog+="n00ne: "+botResponse+"\n";
	sadQuestions[6]++;
	}
	else if (twoDCounter==7&&sadQuestions[7]<=0){
	botResponse="Do you try talking to people and putting youself out there?";
	chatLog+="n00ne: "+botResponse+"\n";
	sadQuestions[7]++;
	}
	else if (twoDCounter==8&&sadQuestions[8]<=0){
	botResponse="Did you inform the authorities?";
	chatLog+="n00ne: "+botResponse+"\n";
	sadQuestions[8]++;
	}
	else if (twoDCounter==9&&sadQuestions[9]<=0){
	botResponse="Have you ever tried looking someplace else where you can thrive?";
	chatLog+="n00ne: "+botResponse+"\n";
	sadQuestions[9]++;
	}
	else{
	botResponse="I am sorry. I do not have a response for you at this time. Is there anything else I can help with?";
	chatLog+="n00ne: "+botResponse+"\n";
	}
}

</script> </body> </html>